<?xml version="1.0" encoding="UTF-8"?>
<Project>
    <!-- Computed properties -->
    <PropertyGroup>
        <BuildNumber>$([System.DateTime]::UtcNow.ToString(mmff))</BuildNumber>
    </PropertyGroup>

    <!-- Fixed Version properties -->
    <PropertyGroup>
        <VersionPrefix>1.0.0</VersionPrefix>
        <VersionSuffix>-alpha</VersionSuffix>
    </PropertyGroup>

    <!-- Conditional Version properties -->
    <PropertyGroup>
        <AssemblyVersion Condition=" '$(VersionSuffix)' == '' ">$(VersionPrefix)</AssemblyVersion>
        <AssemblyVersion Condition=" '$(VersionSuffix)' != '' ">$(VersionPrefix).$(BuildNumber)</AssemblyVersion>

        <Version Condition=" '$(VersionSuffix)' == '' ">$(VersionPrefix)</Version>
        <Version Condition=" '$(VersionSuffix)' != '' ">$(VersionPrefix)$(VersionSuffix)$(BuildNumber)</Version>

        <FileVersion>$(AssemblyVersion)</FileVersion>
    </PropertyGroup>

    <!-- Global properties -->
    <PropertyGroup>
        <AssemblyName>$(MSBuildProjectName)</AssemblyName>
        <Authors>Ghost Recon Team</Authors>
        <Company>Enteprise Products</Company>
        <Copyright>Â© Enteprise Products</Copyright>
        <DefineConstants>STD</DefineConstants>
        <GenerateDocumentationFile>true</GenerateDocumentationFile>
        <ImplicitUsings>disable</ImplicitUsings>
        <IsPackable>false</IsPackable>
        <LangVersion>latest</LangVersion>
        <Nullable>enable</Nullable>
        <ProduceReferenceAssembly>True</ProduceReferenceAssembly>
        <Product>DataJam</Product>
        <RootNamespace>$(MSBuildProjectName)</RootNamespace>
        <TargetFramework>net6.0</TargetFramework>
    </PropertyGroup>

    <!-- Package Versions -->
    <PropertyGroup>
        <dbup_sqlserver_Version>5.0.8</dbup_sqlserver_Version>
        <Microsoft_EntityFrameworkCore_Version>7.0.8</Microsoft_EntityFrameworkCore_Version>
        <FluentAssertions_Version>6.11.0</FluentAssertions_Version>
        <Microsoft_NET_Test_Sdk_Version>17.5.0</Microsoft_NET_Test_Sdk_Version>
        <NSubstitute_Version>5.0.0</NSubstitute_Version>
        <Nuke_Common_Version>6.3.0</Nuke_Common_Version>
        <NUnit_Version>3.13.3</NUnit_Version>
        <NUnit3TestAdapter_Version>4.4.2</NUnit3TestAdapter_Version>
        <NUnit_Analyzers_Version>3.6.1</NUnit_Analyzers_Version>
        <Stylecop_Analyzers_Version>1.2.0-beta.435</Stylecop_Analyzers_Version>
        <TestContainers_MsSql_Version>3.2.0</TestContainers_MsSql_Version>
        <TestStack_Dossier_Version>4.0.0</TestStack_Dossier_Version>
    </PropertyGroup>

    <!-- Treat all warnings as errors -->
    <PropertyGroup>
        <TreatWarningsAsErrors>True</TreatWarningsAsErrors>
    </PropertyGroup>

    <!-- Disable annoying warnings -->
    <PropertyGroup>
        <NoWarn>1702;CS1591;MSB3277;NETSDK1138;NU5104;NU1702;NU1803</NoWarn>
    </PropertyGroup>

    <!-- Stylecop Analyzers -->
    <ItemGroup>
        <PackageReference Include="StyleCop.Analyzers" Version="$(Stylecop_Analyzers_Version)">
            <PrivateAssets>all</PrivateAssets>
            <IncludeAssets>runtime; build; native; contentfiles; analyzers</IncludeAssets>
        </PackageReference>
    </ItemGroup>

    <!-- Enable Init keyword in .Net Framework -->
    <ItemGroup>
        <Compile Include="..\..\IsExternalInit.cs" Link="IsExternalInit.cs"/>
    </ItemGroup>

    <!-- Include Stylecop.json -->
    <ItemGroup>
        <AdditionalFiles Include="../../stylecop.json" Link="stylecop.json"/>
    </ItemGroup>

    <!-- Include StyleCop RuleSet -->
    <PropertyGroup>
        <CodeAnalysisRuleSet>../../StyleCopAnalyzers.ruleset</CodeAnalysisRuleSet>
    </PropertyGroup>

</Project>
